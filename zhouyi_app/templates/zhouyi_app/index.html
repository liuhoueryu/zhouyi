{% extends "zhouyi_app/base.html" %}

{% block title %}é¦–é¡µ - å‘¨æ˜“å åœç³»ç»Ÿ{% endblock %}

{% block content %}
<div style="text-align: center;">
    <h2>å¼€å§‹å åœ</h2>
    <p class="info-box">è¯·é™å¿ƒå‡ç¥ï¼Œä¸“æ³¨äºæ‚¨è¦å åœçš„äº‹é¡¹ï¼Œç„¶åå¡«å†™ä¸‹æ–¹è¡¨å•ã€‚</p>

    <!-- ä¿®æ”¹è¿™é‡Œï¼šä½¿ç”¨å¸¦åŠ¨ç”»çš„å åœé¡µé¢ -->
    <form method="post" action="/calculate-animation/">
        {% csrf_token %}
        <div style="margin: 30px 0;">
            <label for="thing" style="display: block; margin-bottom: 10px; font-size: 18px; font-weight: bold;">
                è¯·è¾“å…¥æ‚¨è¦å åœçš„äº‹æƒ…ï¼š
            </label>
            <textarea id="thing" name="thing" rows="4" style="width: 100%; max-width: 500px; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; font-family: inherit;"
                      placeholder="ä¾‹å¦‚ï¼šäº‹ä¸šå‘å±•ã€æ„Ÿæƒ…å©šå§»ã€å­¦ä¸šè€ƒè¯•ã€å¥åº·ç–¾ç—…ç­‰..." required></textarea>
        </div>

        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}

        <button type="submit" class="btn" style="font-size: 18px; padding: 15px 40px;">
            ğŸ‹ å¼€å§‹å åœ ğŸ‹
        </button>
    </form>

    <!-- ä¿ç•™åŸæœ‰å†…å®¹ -->
    <div style="margin-top: 40px;">
        <h3>å åœé¡»çŸ¥</h3>
        <div class="warning-box">
            <p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
            <ul style="text-align: left; display: inline-block;">
                <li>ä¸€äº‹ä¸€å ï¼Œä¸è¯šä¸å </li>
                <li>æ— ç–‘ä¸å ï¼Œä¸ä¹‰ä¸å </li>
                <li>å åœå‰è¯·é™å¿ƒé»˜æƒ³æ‰€æ±‚ä¹‹äº‹</li>
                <li>ç»“æœä»…ä¾›å‚è€ƒï¼Œå‘½è¿æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­</li>
            </ul>
        </div>
    </div>

    {% if recent_records %}
    <div style="margin-top: 40px;">
        <h3>æœ€è¿‘å åœè®°å½•</h3>
        <ul class="history-list">
            {% for record in recent_records %}
            <li class="history-item">
                <a href="/detail/{{  record.id }}">
                    <strong>{{ record.thing }}</strong><br>
                    <small>å¦è±¡ï¼š{{ record.hexagram_name }} | æ—¶é—´ï¼š{{ record.created_time|date:"m-d H:i" }}</small>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}